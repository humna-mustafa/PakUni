/**
 * generate-merit-formulas.js
 * Generates comprehensive merit formulas for all Pakistani universities.
 * Run: node scripts/generate-merit-formulas.js
 * Updates: src/data/meritFormulas.ts with all new formulas appended
 */

const fs = require('fs');
const path = require('path');

// ─────────────────────────────────────────────────────────────────────────────
// University formula database - covers all 264+ universities in the system
// Template keys: pub_eng_et, pub_eng_no_et, pub_med, pub_gen_50, pub_gen_40,
//   priv_eng_et, priv_med, priv_biz, priv_arts, govt_biz
// ─────────────────────────────────────────────────────────────────────────────

const FORMULA_TEMPLATES = {
  // Public engineering WITH entry test (10-40-50)
  pub_eng_et: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc% × 0.40) + (Entry Test% × 0.50)',
  },
  // Public engineering NO entry test (25-75)
  pub_eng_no_et: {
    matric_weightage: 25, inter_weightage: 75, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.25) + (FSc% × 0.75)',
  },
  // Public medical/health (10-40-50 MDCAT)
  pub_med: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc Pre-Medical% × 0.40) + (MDCAT% × 0.50)',
  },
  // Public general 50-50
  pub_gen_50: {
    matric_weightage: 50, inter_weightage: 50, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.50) + (Inter% × 0.50)',
  },
  // Public general 40-60
  pub_gen_40: {
    matric_weightage: 40, inter_weightage: 60, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.40) + (Inter% × 0.60)',
  },
  // Public general 30-70
  pub_gen_30: {
    matric_weightage: 30, inter_weightage: 70, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.30) + (Inter% × 0.70)',
  },
  // Private engineering with own test (10-40-50)
  priv_eng_et: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 0,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc% × 0.40) + (University Test% × 0.50)',
  },
  // Private medical (10-40-50 MDCAT or own test)
  priv_med: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 0,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc% × 0.40) + (MDCAT/Test% × 0.50)',
  },
  // Private business/management (10-40-50 or NAT)
  priv_biz: {
    matric_weightage: 10, inter_weightage: 50, entry_test_weightage: 40,
    hafiz_bonus: 0,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (Inter% × 0.50) + (University Test/NAT% × 0.40)',
  },
  // Private general / arts (20-50-30)
  priv_arts: {
    matric_weightage: 20, inter_weightage: 50, entry_test_weightage: 30,
    hafiz_bonus: 0,
    formula_expression: 'Aggregate = (Matric% × 0.20) + (Inter% × 0.50) + (Aptitude Test% × 0.30)',
  },
  // Govt business/management (40-60 no test)
  govt_biz: {
    matric_weightage: 40, inter_weightage: 60, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.40) + (Inter/I.Com% × 0.60)',
  },
  // Engineering with NAT (10-40-50)
  eng_nat: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc% × 0.40) + (NTS NAT-IE% × 0.50)',
  },
  // Agriculture 50-50
  agriculture: {
    matric_weightage: 40, inter_weightage: 60, entry_test_weightage: 0,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.40) + (FSc Pre-Medical/Pre-Eng% × 0.60)',
  },
  // CS/IT with NAT (10-40-50)
  cs_nat: {
    matric_weightage: 10, inter_weightage: 40, entry_test_weightage: 50,
    hafiz_bonus: 20,
    formula_expression: 'Aggregate = (Matric% × 0.10) + (FSc/ICS% × 0.40) + (NTS NAT-IE/ICS% × 0.50)',
  },
};

// ─────────────────────────────────────────────────────────────────────────────
// All universities: [id, name, shortName, type, province, fields[], template, testName, officialLink]
// ─────────────────────────────────────────────────────────────────────────────
const ALL_UNIVERSITIES = [
  // ── ISLAMABAD / FEDERAL ───────────────────────────────────────────────────
  ['iiu', 'International Islamic University Islamabad', 'IIUI', 'pub_gen_40', 'islamabad',
    ['Arts', 'Social Sciences', 'Islamic Studies', 'Law', 'Business', 'Engineering', 'Computer Science'],
    'None / NAT (for CS & Engineering)', 'https://www.iiu.edu.pk/admissions/'],
  ['qau', 'Quaid-i-Azam University', 'QAU', 'pub_gen_40', 'islamabad',
    ['Natural Sciences', 'Social Sciences', 'Computer Science', 'Pharmacy', 'Biotechnology'],
    'None – Academic Marks Only', 'https://www.qau.edu.pk/admissions/'],
  ['numl', 'National University of Modern Languages', 'NUML', 'pub_gen_50', 'islamabad',
    ['Languages', 'Business', 'Computer Science', 'Education'],
    'None – Academic Marks Only', 'https://numl.edu.pk/admissions/'],
  ['pide', 'Pakistan Institute of Development Economics', 'PIDE', 'pub_gen_40', 'islamabad',
    ['Economics', 'Business Administration', 'Demography', 'Data Science'],
    'None – Academic + Interview', 'https://www.pide.org.pk/admissions/'],
  ['ndu', 'National Defence University', 'NDU', 'pub_gen_50', 'islamabad',
    ['Security Studies', 'Business Administration', 'Political Science'],
    'None – Academic + Interview', 'https://ndu.edu.pk/admissions/'],
  ['aiou', 'Allama Iqbal Open University', 'AIOU', 'pub_gen_50', 'islamabad',
    ['All Programs (Distance Learning)'],
    'None – Academic Marks Only (Distance)', 'https://www.aiou.edu.pk/admissions/'],
  ['nsu', 'National Skills University', 'NSU', 'pub_gen_50', 'islamabad',
    ['Applied Sciences', 'Technology', 'Vocational Education'],
    'None – Academic Marks Only', 'https://www.nsu.edu.pk/'],
  ['nup', 'National University of Pakistan', 'NUP', 'pub_gen_40', 'islamabad',
    ['Computer Science', 'Engineering', 'Business'],
    'None – Academic Marks Only', 'https://nup.edu.pk/'],
  ['nutec', 'National University of Technology', 'NUTEC', 'pub_eng_et', 'islamabad',
    ['Engineering', 'Computer Science', 'Mechatronics'],
    'NTS NAT-IE', 'https://nutec.edu.pk/admissions/'],
  ['myuniversity', 'Muslim Youth University', 'MYU', 'pub_gen_50', 'islamabad',
    ['Islamic Studies', 'Arabic', 'Education'],
    'None – Academic Marks Only', 'https://myu.edu.pk/'],
  ['sscase', 'Sir Syed CASE Institute of Technology', 'CASE', 'priv_eng_et', 'islamabad',
    ['Computer Science', 'Electrical Engineering', 'Telecom Engineering'],
    'NTS NAT-IE / CASE Test', 'https://case.edu.pk/admissions/'],
  ['ibiu', 'Ibadat International University', 'IBiU', 'priv_biz', 'islamabad',
    ['Business Administration', 'Islamic Studies', 'Education'],
    'Own Admission Test', 'https://ibiu.edu.pk/'],
  ['cust', 'Capital University of Science and Technology', 'CUST', 'priv_eng_et', 'islamabad',
    ['Engineering', 'Computer Science', 'Business', 'Life Sciences'],
    'CUST Entry Test / NAT-IE', 'https://cust.edu.pk/admissions/'],
  ['dmiu', 'Dar-ul-Madina International University', 'DMIU', 'priv_gen', 'islamabad',
    ['Islamic Studies', 'Arabic', 'Education'],
    'None – Academic Marks Only', 'https://dmihe.edu.pk/'],
  ['riphah', 'Riphah International University', 'RIPHAH', 'priv_med', 'islamabad',
    ['Medical', 'Pharmacy', 'Nursing', 'Computer Science', 'Psychology', 'Engineering'],
    'MDCAT (Medical) / University Entry Test', 'https://riphah.edu.pk/admissions/'],
  ['stmu', 'Shifa Tameer-e-Millat University', 'STMU', 'priv_med', 'islamabad',
    ['Medical (MBBS)', 'Dentistry (BDS)', 'Pharmacy', 'Nursing'],
    'MDCAT', 'https://stmu.edu.pk/admissions/'],
  ['szabmu', 'Shaheed Zulfikar Ali Bhutto Medical University', 'SZABMU', 'pub_med', 'islamabad',
    ['Medicine (MBBS)', 'Medical Research', 'Surgery'],
    'MDCAT', 'https://www.szabmu.edu.pk/admissions/'],

  // ── PUNJAB – LAHORE ───────────────────────────────────────────────────────
  ['pu', 'University of the Punjab', 'PU', 'pub_gen_40', 'punjab',
    ['Arts', 'Sciences', 'Commerce', 'Law', 'Computer Science', 'Pharmacy'],
    'None – Academic Marks Only (CS: PUCIT Test)', 'https://admission.pu.edu.pk/'],
  ['pucit', 'Punjab University College of IT', 'PUCIT', 'cs_nat', 'punjab',
    ['Computer Science', 'Information Technology', 'Software Engineering'],
    'PUCIT Entry Test', 'https://pucit.edu.pk/admissions/'],
  ['gcu', 'Government College University Lahore', 'GCU', 'pub_gen_40', 'punjab',
    ['Natural Sciences', 'Humanities', 'Computer Science', 'Mathematics'],
    'None – Academic Marks Only', 'https://gcu.edu.pk/admissions/'],
  ['uhs', 'University of Health Sciences Lahore', 'UHS', 'pub_med', 'punjab',
    ['MBBS', 'BDS', 'Pharm-D', 'DPT', 'MLT'],
    'MDCAT (PMC)', 'https://www.uhs.edu.pk/mdcat'],
  ['kemu', 'King Edward Medical University', 'KEMU', 'pub_med', 'punjab',
    ['MBBS', 'Allied Health Sciences'],
    'MDCAT (via UHS)', 'https://www.kemu.edu.pk/admissions'],
  ['fjmc', 'Fatima Jinnah Medical University', 'FJMU', 'pub_med', 'punjab',
    ['MBBS (Women Only)'],
    'MDCAT (via UHS)', 'https://www.fjmu.edu.pk/'],
  ['fjmu', 'Fatima Jinnah Medical University', 'FJMU', 'pub_med', 'punjab',
    ['MBBS (Women Only)'],
    'MDCAT (via UHS)', 'https://www.fjmu.edu.pk/'],
  ['fjwu', 'Fatima Jinnah Women University', 'FJWU', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Education', 'Business'],
    'None – Academic Marks Only', 'https://fjwu.edu.pk/admissions/'],
  ['uet', 'University of Engineering and Technology Lahore', 'UET', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Architecture'],
    'ECAT (UET)', 'https://uet.edu.pk/admissions'],
  ['uet-taxila', 'University of Engineering and Technology Taxila', 'UET-T', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Mechatronics'],
    'ECAT (UET)', 'https://uettaxila.edu.pk/admissions/'],
  ['uet-fsd', 'UET Lahore – Faisalabad Campus', 'UET-FSD', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science'],
    'ECAT (UET)', 'https://uet.edu.pk/fsd-campus/admissions/'],
  ['ntu', 'National Textile University', 'NTU', 'pub_eng_et', 'punjab',
    ['Textile Engineering', 'Fashion Design', 'Computer Science', 'Business'],
    'NTU Entry Test / NAT-IE', 'https://www.ntu.edu.pk/admissions/'],
  ['uvas', 'University of Veterinary and Animal Sciences', 'UVAS', 'pub_med', 'punjab',
    ['DVM', 'Bioinformatics', 'Food Science', 'Animal Husbandry'],
    'MDCAT (for DVM) / Academic Marks', 'https://uvas.edu.pk/admissions/'],
  ['uhs', 'University of Health Sciences Lahore', 'UHS', 'pub_med', 'punjab',
    ['MBBS', 'BDS', 'Pharm-D', 'DPT'],
    'MDCAT (PMC)', 'https://www.uhs.edu.pk/'],
  ['lcwu', 'Lahore College for Women University', 'LCWU', 'pub_gen_40', 'punjab',
    ['Arts', 'Sciences', 'Commerce', 'Computer Science', 'Education'],
    'None – Academic Marks Only', 'https://www.lcwu.edu.pk/admissions/'],
  ['lums', 'Lahore University of Management Sciences', 'LUMS', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Electrical Engineering', 'Business', 'Economics', 'Law'],
    'SAT / LCAT + Interview', 'https://lums.edu.pk/admissions'],
  ['fast', 'FAST National University', 'FAST', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Software Engineering', 'AI', 'Electrical Engineering', 'Civil Engineering'],
    'FAST NU Test', 'https://www.nu.edu.pk/Admissions'],
  ['itu', 'Information Technology University', 'ITU', 'cs_nat', 'punjab',
    ['Computer Science', 'Electrical Engineering', 'Data Science', 'AI', 'Smart Cities'],
    'NAT-IE / ITU Test', 'https://itu.edu.pk/admissions/'],
  ['nca', 'National College of Arts', 'NCA', 'priv_arts', 'punjab',
    ['Fine Arts', 'Design', 'Architecture', 'Film & TV', 'Textile Design'],
    'NCA Aptitude Test + Portfolio', 'https://www.nca.edu.pk/admissions/'],
  ['bnu', 'Beaconhouse National University', 'BNU', 'priv_arts', 'punjab',
    ['Social Sciences', 'Design', 'Computer Science', 'Psychology', 'Media'],
    'BNU Admission Test + Interview', 'https://www.bnu.edu.pk/admissions/'],
  ['kinnaird', 'Kinnaird College for Women', 'KCW', 'priv_arts', 'punjab',
    ['Arts', 'Sciences', 'Commerce', 'Psychology', 'Mass Communication'],
    'Kinnaird Entry Test', 'https://www.kinnaird.edu.pk/admissions/'],
  ['fccollege', 'Forman Christian College University', 'FCCU', 'priv_arts', 'punjab',
    ['Sciences', 'Social Sciences', 'Business', 'Computer Science'],
    'FCCU Admission Test', 'https://www.fccollege.edu.pk/admissions/'],
  ['ucp', 'University of Central Punjab', 'UCP', 'priv_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Business', 'Medicine', 'Law'],
    'UCP Entry Test / MDCAT (Medical)', 'https://ucp.edu.pk/admissions/'],
  ['umt', 'University of Management and Technology', 'UMT', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Engineering', 'Psychology', 'Education'],
    'UMT Entry Test', 'https://umt.edu.pk/admissions/'],
  ['uol', 'University of Lahore', 'UoL', 'priv_med', 'punjab',
    ['Medical', 'Engineering', 'Computer Science', 'Business', 'Pharmacy'],
    'MDCAT (Medical) / University Entry Test', 'https://www.uol.edu.pk/admissions/'],
  ['smc', 'Services Institute of Medical Sciences', 'SIMS', 'pub_med', 'punjab',
    ['MBBS'],
    'MDCAT (via UHS)', 'https://simisweb.edu.pk/'],
  ['smu', 'Services Medical University', 'SMU', 'pub_med', 'punjab',
    ['MBBS'],
    'MDCAT (via UHS)', 'https://www.simisweb.edu.pk/'],
  ['rmc', 'Rawalpindi Medical University', 'RMU', 'pub_med', 'punjab',
    ['MBBS', 'BDS', 'DPT'],
    'MDCAT (via UHS)', 'https://rmu.edu.pk/admissions/'],
  ['rmur', 'Rawalpindi Medical University', 'RMU', 'pub_med', 'punjab',
    ['MBBS', 'BDS', 'DPT'],
    'MDCAT (via UHS)', 'https://rmu.edu.pk/admissions/'],
  ['nums', 'National University of Medical Sciences', 'NUMS', 'priv_med', 'punjab',
    ['MBBS', 'BDS', 'Pharm-D', 'Nursing'],
    'NUMS Entry Test (MDCAT-pattern)', 'https://www.nums.edu.pk/admissions/'],
  ['nmc', 'Nishtar Medical University', 'NMU', 'pub_med', 'punjab',
    ['MBBS', 'BDS'],
    'MDCAT (via UHS)', 'https://nmu.edu.pk/admissions/'],
  ['nmu', 'Nishtar Medical University', 'NMU', 'pub_med', 'punjab',
    ['MBBS', 'BDS'],
    'MDCAT (via UHS)', 'https://nmu.edu.pk/admissions/'],
  ['pmc', 'Faisalabad Medical University', 'FMU', 'pub_med', 'punjab',
    ['MBBS'],
    'MDCAT (via UHS)', 'https://fmu.edu.pk/'],
  ['aimc', 'Allama Iqbal Medical College', 'AIMC', 'pub_med', 'punjab',
    ['MBBS'],
    'MDCAT (via UHS)', 'https://www.aimc.com.pk/'],
  ['bzu', 'Bahauddin Zakariya University', 'BZU', 'pub_gen_40', 'punjab',
    ['Arts', 'Sciences', 'Computer Science', 'Business', 'Law', 'Pharmacy'],
    'None (CS: NAT/BZU Test)', 'https://www.bzu.edu.pk/admissions/'],
  ['iub', 'The Islamia University of Bahawalpur', 'IUB', 'pub_gen_40', 'punjab',
    ['Arts', 'Sciences', 'Computer Science', 'Pharmacy', 'Agriculture'],
    'None – Academic Marks Only', 'https://www.iub.edu.pk/admissions/'],
  ['uos', 'University of Sargodha', 'UoS', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Pharmacy', 'Agriculture'],
    'None (Pharmacy: UoS Test)', 'https://www.uos.edu.pk/admissions/'],
  ['uog', 'University of Gujrat', 'UoG', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Education', 'Business'],
    'None – Academic Marks Only', 'https://uog.edu.pk/admissions/'],
  ['uaf', 'University of Agriculture Faisalabad', 'UAF', 'agriculture', 'punjab',
    ['Agriculture', 'Food Science', 'Veterinary', 'Engineering', 'Home Economics'],
    'None – Academic Marks Only', 'https://www.uaf.edu.pk/admissions/'],
  ['uaar', 'PMAS Arid Agriculture University', 'ARID', 'agriculture', 'punjab',
    ['Agriculture', 'Computer Science', 'Food Technology', 'Veterinary', 'Environmental Science'],
    'None – Academic Marks Only', 'https://www.uaar.edu.pk/admissions/'],
  ['mnsuam', 'MNS University of Agriculture Multan', 'MNSUAM', 'agriculture', 'punjab',
    ['Agriculture', 'Food Sciences', 'Environmental Sciences'],
    'None – Academic Marks Only', 'https://mnsuam.edu.pk/'],
  ['gcuf', 'Government College University Faisalabad', 'GCUF', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Business', 'Education'],
    'None – Academic Marks Only', 'https://gcuf.edu.pk/admissions/'],
  ['gcwuf', 'Government College Women University Faisalabad', 'GCWUF', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Business', 'Computer Science'],
    'None – Academic Marks Only', 'https://gcwuf.edu.pk/admissions/'],
  ['gcwus', 'Government College for Women University Sialkot', 'GCWUS', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Business', 'Computer Science'],
    'None – Academic Marks Only', 'https://gcwus.edu.pk/admissions/'],
  ['nfciet', 'NFC Institute of Engineering and Technology', 'NFCIET', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science'],
    'ECAT / NFC Entry Test', 'https://nfciet.edu.pk/admissions/'],
  ['kfueit', 'Khwaja Fareed University of Engineering & IT', 'KFUEIT', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Business'],
    'KFUEIT Entry Test', 'https://www.kfueit.edu.pk/admissions/'],
  ['mnsuet', 'MNS University of Engineering and Technology', 'MNSUET', 'pub_eng_et', 'punjab',
    ['Engineering (Textile Focus)', 'Computer Science'],
    'NAT-IE / University Test', 'https://mnsuet.edu.pk/admissions/'],
  ['ptut', 'Punjab Tianjin University of Technology', 'PTUT', 'pub_eng_et', 'punjab',
    ['Engineering', 'Computer Science'],
    'NAT-IE / Own Test', 'https://ptut.edu.pk/admissions/'],
  ['hitecuni', 'HITEC University', 'HITEC', 'priv_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Business'],
    'HITEC Entry Test / NAT-IE', 'https://hitecuni.edu.pk/admissions/'],
  ['lgu', 'Lahore Garrison University', 'LGU', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Engineering', 'Business', 'Media', 'Psychology'],
    'LGU Entry Test / NAT', 'https://lgu.edu.pk/admissions/'],
  ['ue', 'University of Education', 'UE', 'pub_gen_50', 'punjab',
    ['Education', 'Arabic', 'Computer Science', 'Science'],
    'None – Academic Marks Only', 'https://ue.edu.pk/admissions/'],
  ['uhe', 'University of Home Economics', 'UHE', 'pub_gen_50', 'punjab',
    ['Home Economics', 'Fashion Design', 'Food & Nutrition', 'Interior Design'],
    'None – Academic Marks Only', 'https://uhe.edu.pk/admissions/'],
  ['lahoreschool', 'Lahore School of Economics', 'LSE', 'priv_biz', 'punjab',
    ['Economics', 'Business', 'Political Science', 'Computer Science'],
    'LSE Entry Test', 'https://lahoreschool.edu.pk/admissions/'],
  ['ncbae', 'National College of Business Administration and Economics', 'NCBA&E', 'priv_biz', 'punjab',
    ['Business Administration', 'Computer Science', 'Economics'],
    'NCBA&E Entry Test', 'https://www.ncbae.edu.pk/admissions/'],
  ['usp', 'University of Southern Punjab', 'USP', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Engineering'],
    'None – Academic Marks Only', 'https://www.usp.edu.pk/admissions/'],
  ['uo', 'University of Okara', 'UO', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uo.edu.pk/'],
  ['uskt', 'University of Sialkot', 'USKT', 'priv_biz', 'punjab',
    ['Computer Science', 'Business', 'Engineering', 'Education'],
    'University Test / NAT', 'https://uskt.edu.pk/admissions/'],
  ['uoajk', 'University of Azad Jammu and Kashmir', 'UoAJK', 'pub_gen_40', 'azad_kashmir',
    ['Sciences', 'Arts', 'Computer Science', 'Engineering', 'Business'],
    'None – Academic Marks Only', 'https://www.ajku.edu.pk/'],
  ['hajvery', 'Hajvery University', 'HU', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Engineering', 'Health Sciences'],
    'University Test', 'https://www.hajvery.edu.pk/admissions/'],
  ['superior', 'Superior University', 'SUPERIOR', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Engineering', 'Business', 'Education'],
    'Superior Entry Test / NAT', 'https://superior.edu.pk/admissions/'],
  ['mul', 'Minhaj University Lahore', 'MUL', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Social Sciences', 'Education'],
    'Minhaj University Test', 'https://www.mul.edu.pk/admissions/'],
  ['niu', 'Nur International University', 'NIU', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Social Sciences'],
    'University Test / NAT', 'https://niu.edu.pk/'],
  ['leads', 'Lahore Leads University', 'LEADS', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Engineering', 'Business', 'Humanities'],
    'LEADS Entry Test / NAT', 'https://leads.edu.pk/admissions/'],
  ['vu', 'Virtual University of Pakistan', 'VU', 'pub_gen_50', 'punjab',
    ['Computer Science', 'Business', 'Education', 'Mass Communication', 'Software Engineering'],
    'None – Online / Academic Marks Only', 'https://www.vu.edu.pk/admissions/'],
  ['uaar', 'PMAS Arid Agriculture University', 'UAAR', 'agriculture', 'punjab',
    ['Agriculture', 'Computer Science', 'Food Technology', 'Veterinary'],
    'None – Academic Marks Only', 'https://www.uaar.edu.pk/admissions/'],
  ['uchs', 'University of Child Health Sciences', 'UCHS', 'pub_med', 'punjab',
    ['MBBS', 'BDS'],
    'MDCAT (via UHS)', 'https://uchs.edu.pk/'],
  ['uoajk', 'University of Azad Jammu and Kashmir', 'UoAJK', 'pub_gen_40', 'azad_kashmir',
    ['General Sciences', 'Arts', 'Computer Science', 'Engineering', 'Business'],
    'None – Academic Marks Only', 'https://www.ajku.edu.pk/'],
  ['uosahiwal', 'University of Sahiwal', 'UoSahiwal', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uos.edu.pk/'],
  ['umw', 'University of Mianwali', 'UMW', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://umw.edu.pk/'],
  ['ul', 'University of Layyah', 'UL', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://ul.edu.pk/'],
  ['uon', 'University of Narowal', 'UoN', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uo.edu.pk/'],
  ['uoc', 'University of Chakwal', 'UoC', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uoc.edu.pk/'],
  ['uoj', 'University of Jhang', 'UoJ', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uoj.edu.pk/'],
  ['uow', 'University of Wah', 'UoW', 'pub_gen_40', 'punjab',
    ['Engineering', 'Computer Science', 'Business', 'Sciences'],
    'NAT-IE / Own Test', 'https://uow.edu.pk/admissions/'],
  ['wum', 'The Women University Multan', 'WUM', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Business', 'Education'],
    'None – Academic Marks Only', 'https://wum.edu.pk/admissions/'],
  ['rwu', 'Rawalpindi Women University', 'RWU', 'pub_gen_40', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://rwu.edu.pk/admissions/'],
  ['gscwu', 'Government Sadiq College Women University Bahawalpur', 'GSCWU', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Commerce'],
    'None – Academic Marks Only', 'https://gscwub.edu.pk/'],
  ['namal', 'Namal University', 'NAMAL', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Electrical Engineering', 'Business', 'Mathematics'],
    'Namal Aptitude Test (NAT) + University Test', 'https://namal.edu.pk/admissions/'],
  ['tuf', 'The University of Faisalabad', 'TUF', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Engineering', 'Health Sciences'],
    'TUF Entry Test', 'https://www.tuf.edu.pk/admissions/'],
  ['thaluniversity', 'Thal University', 'THAL', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://thaluniversity.edu.pk/'],
  ['gift', 'GIFT University', 'GIFT', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Accounting & Finance'],
    'GIFT Entry Test / NAT', 'https://www.gift.edu.pk/admissions/'],
  ['usa', 'University of South Asia', 'USA', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Mass Communication', 'Education'],
    'USA Entry Test', 'https://www.usa.edu.pk/admissions/'],
  ['ubas', 'Lahore University of Biological and Applied Sciences', 'LUBAS', 'priv_med', 'punjab',
    ['Pharmacy', 'Biosciences', 'Computer Science'],
    'University Test / NAT', 'https://ubas.edu.pk/'],
  ['imperial', 'Imperial College of Business Studies', 'ICBS', 'priv_biz', 'punjab',
    ['Business Administration', 'Computer Science'],
    'University Test', 'https://icbs.edu.pk/'],
  ['rlku', 'Rashid Latif Khan University', 'RLKU', 'priv_biz', 'punjab',
    ['Computer Science', 'Business', 'Engineering'],
    'University Test / NAT', 'https://rlku.edu.pk/'],
  ['aie', 'Ali Institute of Education', 'AIE', 'priv_arts', 'punjab',
    ['Education', 'B.Ed', 'M.Ed'],
    'None – Academic Marks Only', 'https://aie.edu.pk/'],
  ['tag-gu', 'The Grand Asian University', 'GRANDU', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Education'],
    'University Test', 'https://grandauniversity.edu.pk/'],
  ['giu', 'The Green International University', 'GREEN', 'priv_biz', 'punjab',
    ['Business', 'Education', 'Social Sciences'],
    'University Test', 'https://giu.edu.pk/'],
  ['bgnu', 'Baba Guru Nanak University', 'BGNU', 'pub_gen_50', 'punjab',
    ['Sciences', 'Arts', 'Computer Science', 'Agriculture'],
    'None – Academic Marks Only', 'https://bgnu.edu.pk/'],
  ['putrasul', 'Punjab University of Technology Rasul', 'PUT-RASUL', 'pub_eng_et', 'punjab',
    ['Agriculture Technology', 'Food Engineering', 'Chemical Engineering'],
    'NAT-IE / University Test', 'https://putrasul.edu.pk/'],
  ['gnies', 'Ghazi National Institute of Engineering and Sciences', 'GNIES', 'priv_eng_et', 'punjab',
    ['Engineering', 'Computer Science'],
    'ECAT / Own Test', 'https://gnies.edu.pk/'],
  ['iisat', 'International Institute of Science, Arts and Technology', 'IISAT', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Arts'],
    'University Test', 'https://iisat.edu.pk/'],
  ['pifd', 'Pakistan Institute of Fashion and Design', 'PIFD', 'priv_arts', 'punjab',
    ['Fashion Design', 'Textile Design', 'Interior Design', 'Jewellery Design'],
    'PIFD Aptitude Test + Portfolio', 'https://www.pifd.edu.pk/admissions/'],
  ['iac', 'Institute for Art and Culture', 'IAC', 'priv_arts', 'punjab',
    ['Fine Arts', 'Art History', 'Cultural Heritage', 'Design'],
    'Portfolio + Interview', 'https://iac.edu.pk/admissions/'],
  ['cuvas', 'Cholistan University of Veterinary and Animal Sciences', 'CUVAS', 'pub_med', 'punjab',
    ['Veterinary Medicine', 'Animal Sciences'],
    'MDCAT-based / Academic Marks', 'https://cuvas.edu.pk/admissions/'],
  ['mustm', 'Multan University of Science and Technology', 'MUST', 'priv_eng_et', 'punjab',
    ['Engineering', 'Computer Science', 'Business'],
    'NAT-IE / University Test', 'https://must.edu.pk/'],
  ['mypgi', 'Pakistan Global Institute', 'PGI', 'priv_biz', 'punjab',
    ['Business', 'Finance', 'Computer Science'],
    'PGI Entry Test', 'https://pgi.edu.pk/'],
  ['list', 'Lahore Institute of Science and Technology', 'LIST', 'priv_eng_et', 'punjab',
    ['Computer Science', 'Engineering'],
    'NAT-IE / Own Test', 'https://list.edu.pk/'],
  ['isp', 'Institute of Southern Punjab', 'ISP', 'pub_gen_40', 'punjab',
    ['Computer Science', 'Engineering', 'Business', 'Social Sciences'],
    'None – Academic Marks Only', 'https://isp.edu.pk/'],
  ['akii', 'Al-Karam International Institute', 'AKII', 'priv_biz', 'punjab',
    ['Business', 'Social Sciences'],
    'None – Academic Marks Only', 'https://akii.edu.pk/'],
  ['kum', 'Kohsar University Murree', 'KUM', 'priv_biz', 'punjab',
    ['Business', 'Computer Science', 'Social Sciences'],
    'University Test', 'https://kum.edu.pk/'],

  // ── KPK ───────────────────────────────────────────────────────────────────
  ['uet-peshawar', 'University of Engineering and Technology Peshawar', 'UET-P', 'pub_eng_et', 'kpk',
    ['Engineering', 'Computer Systems Engineering', 'Architecture'],
    'ETEA Engineering', 'https://uetpeshawar.edu.pk/admissions/'],
  ['kmu', 'Khyber Medical University', 'KMU', 'pub_med', 'kpk',
    ['MBBS', 'BDS', 'Pharm-D', 'DPT', 'MLT'],
    'ETEA MDCAT', 'https://www.kmu.edu.pk/'],
  ['awkum', 'Abdul Wali Khan University Mardan', 'AWKUM', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Engineering', 'Business'],
    'None – Academic Marks Only', 'https://www.awkum.edu.pk/admissions/'],
  ['uop', 'University of Peshawar', 'UoP', 'pub_gen_40', 'kpk',
    ['Arts', 'Sciences', 'Computer Science', 'Economics', 'Pharmacy'],
    'None – Academic Marks Only', 'https://www.uop.edu.pk/admissions/'],
  ['giki', 'GIK Institute', 'GIKI', 'priv_eng_et', 'kpk',
    ['Engineering', 'Computer Science', 'Data Science', 'AI'],
    'GIKI Admission Test (GAT)', 'https://giki.edu.pk/admissions/'],
  ['uom', 'University of Malakand', 'UoM', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://www.uom.edu.pk/admissions/'],
  ['hu', 'Hazara University', 'HU', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://hu.edu.pk/admissions/'],
  ['kohat', 'Kohat University of Science and Technology', 'KUST', 'pub_gen_40', 'kpk',
    ['Engineering (some programs)', 'Computer Science', 'Sciences', 'Business'],
    'ETEA (Engineering) / Academic Marks', 'https://kust.edu.pk/admissions/'],
  ['kust', 'Kohat University of Science and Technology', 'KUST', 'pub_gen_40', 'kpk',
    ['Sciences', 'Computer Science', 'Engineering', 'Business'],
    'ETEA / Academic Marks', 'https://kust.edu.pk/admissions/'],
  ['suit', 'Sarhad University of Science and Information Technology', 'SARHAD', 'priv_eng_et', 'kpk',
    ['Computer Science', 'Engineering', 'Business', 'Social Sciences'],
    'Sarhad University Test / NAT', 'https://www.suit.edu.pk/admissions/'],
  ['imsciences', 'Institute of Management Sciences Peshawar', 'IMSciences', 'priv_biz', 'kpk',
    ['Business Administration', 'Management Sciences', 'Economics'],
    'IMSciences Aptitude Test', 'https://www.imsciences.edu.pk/admissions/'],
  ['cecos', 'CECOS University', 'CECOS', 'priv_eng_et', 'kpk',
    ['Computer Science', 'Electrical Engineering', 'Civil Engineering', 'Business'],
    'CECOS Admission Test / ETEA', 'https://www.cecos.edu.pk/admissions/'],
  ['fu', 'FATA University', 'FATA-U', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://www.fu.edu.pk/admissions/'],
  ['icp', 'Islamia College Peshawar', 'ICP', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Commerce', 'Computer Science'],
    'ICP Entry Test', 'https://www.icp.edu.pk/admissions/'],
  ['gandhara', 'Gandhara University', 'GU', 'priv_med', 'kpk',
    ['MBBS', 'BDS', 'DPT', 'Pharmacy'],
    'ETEA MDCAT', 'https://gandhara.edu.pk/admissions/'],
  ['gomal', 'Gomal University', 'GU', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Pharmacy', 'Business'],
    'None – Academic Marks Only', 'https://gu.edu.pk/admissions/'],
  ['sbbu', 'Shaheed Benazir Bhutto University', 'SBBU', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://sbbu.edu.pk/admissions/'],
  ['sbbwu', 'Shaheed Benazir Bhutto Women University', 'SBBWU', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business', 'Education'],
    'None – Academic Marks Only', 'https://sbbwu.edu.pk/admissions/'],
  ['aup', 'The University of Agriculture Peshawar', 'AUP', 'agriculture', 'kpk',
    ['Agriculture', 'Agronomy', 'Food Science', 'Agricultural Engineering'],
    'None – Academic Marks Only', 'https://aup.edu.pk/admissions/'],
  ['northern', 'Northern University', 'NU', 'priv_biz', 'kpk',
    ['Business', 'Computer Science', 'Social Sciences', 'Education'],
    'University Test', 'https://www.northern.edu.pk/admissions/'],
  ['qurtuba', 'Qurtaba University', 'QURTUBA', 'priv_biz', 'kpk',
    ['Business', 'Computer Science', 'Engineering', 'Education'],
    'University Test / NAT', 'https://qurtuba.edu.pk/admissions/'],
  ['cityuniversity', 'City University of Science and IT', 'CUSIT', 'priv_eng_et', 'kpk',
    ['Computer Science', 'Engineering', 'Business'],
    'CUSIT Entry Test / NAT', 'https://www.cusit.edu.pk/admissions/'],
  ['preston', 'Preston University', 'PRESTON', 'priv_biz', 'kpk',
    ['Business Administration', 'Computer Science', 'Education'],
    'None / NAT accepted', 'https://www.prestonuniversity.edu.pk/admissions/'],
  ['aust', 'Abbottabad University of Science and Technology', 'AUST', 'pub_gen_40', 'kpk',
    ['Engineering', 'Computer Science', 'Sciences', 'Business'],
    'ETEA / Academic Marks', 'https://aust.edu.pk/admissions/'],
  ['inu', 'Iqra National University', 'INU', 'priv_biz', 'kpk',
    ['Business', 'Computer Science', 'Engineering', 'Education'],
    'University Test', 'https://inu.edu.pk/admissions/'],
  ['bkuc', 'Bacha Khan University Charsadda', 'BKUC', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://bku.edu.pk/admissions/'],
  ['kkkuk', 'Khushal Khan Khattak University', 'KKKUK', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://kkkuk.edu.pk/'],
  ['uoas', 'University of Agriculture Swat', 'UAS', 'agriculture', 'kpk',
    ['Agriculture', 'Food Sciences', 'Horticulture'],
    'None – Academic Marks Only', 'https://uoas.edu.pk/'],
  ['uoswabi', 'University of Swabi', 'UoSwabi', 'pub_gen_50', 'kpk',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uoswabi.edu.pk/'],
  ['uswat', 'University of Swat', 'UoSwat', 'pub_gen_50', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://uswat.edu.pk/'],
  ['uoh', 'University of Haripur', 'UoH', 'pub_gen_40', 'kpk',
    ['Sciences', 'Computer Science', 'Business', 'Engineering'],
    'ETEA / Academic Marks', 'https://uoh.edu.pk/admissions/'],
  ['uad', 'University of Agriculture D.I. Khan', 'UAD', 'agriculture', 'kpk',
    ['Agriculture', 'Animal Sciences', 'Food Technology'],
    'None – Academic Marks Only', 'https://uad.edu.pk/'],
  ['paf-iast', 'Pak-Austria Fachhochschule IST', 'PAF-IAST', 'priv_eng_et', 'kpk',
    ['Engineering', 'Computer Science', 'Applied Sciences'],
    'PAF-IAST Entry Test', 'https://paf-iast.edu.pk/admissions/'],
  ['uoch', 'University of Chitral', 'UoChitral', 'pub_gen_50', 'kpk',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uoch.edu.pk/'],
  ['ustb', 'University of Science and Technology Bannu', 'USTB', 'pub_gen_40', 'kpk',
    ['Computer Science', 'Sciences', 'Business'],
    'ETEA / Academic Marks', 'https://ustb.edu.pk/'],
  ['ueasswat', 'University of Engineering and Applied Sciences Swat', 'UEAS', 'pub_eng_et', 'kpk',
    ['Engineering', 'Computer Science'],
    'ETEA Engineering', 'https://ueas.edu.pk/'],
  ['ulm', 'University of Lakki Marwat', 'ULM', 'pub_gen_50', 'kpk',
    ['Sciences', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://ulm.edu.pk/'],
  ['uobuner', 'University of Buner', 'UoBuner', 'pub_gen_50', 'kpk',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uob.edu.pk/'],
  ['wumardan', 'Women University Mardan', 'WUM', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://wumardan.edu.pk/'],
  ['wus', 'Women University Swabi', 'WUS', 'pub_gen_40', 'kpk',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://wus.edu.pk/'],
  ['uetmardan', 'University of Engineering and Technology Mardan', 'UETM', 'pub_eng_et', 'kpk',
    ['Engineering', 'Computer Science'],
    'ETEA Engineering', 'https://uetmardan.edu.pk/'],
  ['uetpeshawar', 'University of Engineering and Technology Peshawar', 'UET-P', 'pub_eng_et', 'kpk',
    ['Engineering', 'Computer Systems', 'Architecture'],
    'ETEA Engineering', 'https://uetpeshawar.edu.pk/admissions/'],

  // ── SINDH ─────────────────────────────────────────────────────────────────
  ['uok', 'University of Karachi', 'UoK', 'pub_gen_40', 'sindh',
    ['Sciences', 'Arts', 'Computer Science', 'Pharmacy', 'Business', 'Law'],
    'UoK Entry Test (for CS & Pharmacy)', 'https://www.uok.edu.pk/admissions/'],
  ['ned', 'NED University of Engineering and Technology', 'NED', 'pub_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Architecture'],
    'NED Entry Test', 'https://www.neduet.edu.pk/admissions'],
  ['neduet', 'NED University of Engineering and Technology', 'NED', 'pub_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Architecture'],
    'NED Entry Test', 'https://www.neduet.edu.pk/admissions'],
  ['muet', 'Mehran University of Engineering and Technology', 'MUET', 'pub_eng_no_et', 'sindh',
    ['Engineering', 'Computer Science', 'Software Engineering'],
    'Pre-Engineering Marks Only (No separate test)', 'https://www.muet.edu.pk/admissions/'],
  ['dow', 'Dow University of Health Sciences', 'DUHS', 'pub_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D', 'DPT', 'Nursing'],
    'MDCAT (Sindh PMC)', 'https://www.duhs.edu.pk/mdcat'],
  ['duhs', 'DOW University of Health Sciences', 'DUHS', 'pub_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D', 'Nursing'],
    'MDCAT (Sindh)',  'https://www.duhs.edu.pk/'],
  ['jsmu', 'Jinnah Sindh Medical University', 'JSMU', 'pub_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D', 'Nursing', 'Health Sciences'],
    'MDCAT (Sindh)', 'https://www.jsmu.edu.pk/admissions/'],
  ['iba', 'Institute of Business Administration Karachi', 'IBA', 'priv_biz', 'sindh',
    ['BBA', 'BS Economics', 'BS Computer Science', 'BS Accounting'],
    'IBA Aptitude Test', 'https://www.iba.edu.pk/admissions/'],
  ['iba-suk', 'Sukkur IBA University', 'SIBA', 'pub_gen_40', 'sindh',
    ['Computer Science', 'Engineering', 'Business', 'Education'],
    'Sukkur IBA Test', 'https://iba-suk.edu.pk/admissions/'],
  ['quest', 'Quaid-e-Awam University of Engineering, Science and Technology', 'QUEST', 'pub_eng_no_et', 'sindh',
    ['Engineering', 'Computer Science', 'Business'],
    'Pre-Engineering Marks (Sindh style)', 'https://quest.edu.pk/admissions/'],
  ['szabist', 'SZABIST University', 'SZABIST', 'priv_biz', 'sindh',
    ['Computer Science', 'Business', 'Media Sciences', 'Engineering'],
    'SZABIST Entry Test', 'https://www.szabist.edu.pk/admissions/'],
  ['iqra', 'Iqra University Karachi', 'IQRA', 'priv_biz', 'sindh',
    ['Computer Science', 'Business', 'Media Sciences'],
    'Iqra University Test / NAT', 'https://iqra.edu.pk/admissions/'],
  ['hamdard', 'Hamdard University', 'HAMDARD', 'priv_med', 'sindh',
    ['Pharmacy', 'Medicine', 'Business', 'Computer Science', 'Tibb (Eastern Medicine)'],
    'MDCAT (Medical) / University Test', 'https://www.hamdard.edu.pk/admissions/'],
  ['isra', 'Isra University', 'ISRA', 'priv_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D', 'Allied Health'],
    'MDCAT / Isra Test', 'https://www.isra.edu.pk/admissions/'],
  ['zu', 'Ziauddin University', 'ZU', 'priv_med', 'sindh',
    ['MBBS', 'Dentistry', 'Pharmacy', 'Nursing', 'Allied Health', 'Computer Science'],
    'MDCAT (Medical) / University Test', 'https://zu.edu.pk/admissions/'],
  ['baqai', 'Baqai Medical University', 'BAQAI', 'priv_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D'],
    'MDCAT', 'https://baqai.edu.pk/admissions/'],
  ['lumhs', 'Liaquat University of Medical and Health Sciences', 'LUMHS', 'pub_med', 'sindh',
    ['MBBS', 'BDS', 'Pharm-D', 'Nursing'],
    'MDCAT (Sindh)', 'https://lumhs.edu.pk/admissions/'],
  ['smbbmu', 'Shaheed Mohtarma Benazir Bhutto Medical University', 'SMBBMU', 'pub_med', 'sindh',
    ['MBBS', 'BDS'],
    'MDCAT (Sindh)', 'https://smbbmu.edu.pk/'],
  ['pumhs', 'Peoples University of Medical and Health Sciences for Women', 'PUMHS', 'pub_med', 'sindh',
    ['MBBS', 'BDS', 'DPT (Women Only)'],
    'MDCAT (Sindh)', 'https://pumhs.edu.pk/'],
  ['sims', 'Sindh Institute of Medical Sciences', 'SIMS', 'pub_med', 'sindh',
    ['MBBS'],
    'MDCAT (Sindh)', 'https://sims.edu.pk/'],
  ['gims', 'Gambat Institute of Medical Sciences', 'GIMS', 'pub_med', 'sindh',
    ['MBBS'],
    'MDCAT (Sindh)', 'https://gims.edu.pk/'],
  ['jinnah', 'Mohammad Ali Jinnah University', 'MAJU', 'priv_biz', 'sindh',
    ['Computer Science', 'Business', 'Engineering', 'Social Sciences'],
    'MAJU Entry Test / NAT', 'https://www.jinnah.edu.pk/admissions/'],
  ['ssuet', 'Sir Syed University of Engineering and Technology', 'SSUET', 'priv_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Business'],
    'SSUET Entry Test', 'https://www.ssuet.edu.pk/admissions/'],
  ['duet', 'Dawood University of Engineering and Technology', 'DUET', 'pub_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Textile Engineering'],
    'NED/DUET Entry Test', 'https://www.duet.edu.pk/admissions/'],
  ['dsu', 'DHA Suffa University', 'DSU', 'priv_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Business'],
    'DSU Admission Test / NAT', 'https://www.dsu.edu.pk/admissions/'],
  ['habib', 'Habib University', 'HABIB', 'priv_eng_et', 'sindh',
    ['Computer Science', 'Electrical Engineering', 'Social Development'],
    'Habib University Test + Interview', 'https://habib.edu.pk/admissions/'],
  ['iobm', 'Institute of Business Management', 'IoBM', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Economics', 'Engineering'],
    'IoBM Entry Test', 'https://www.iobm.edu.pk/admissions/'],
  ['usindh', 'University of Sindh', 'UniSindh', 'pub_gen_40', 'sindh',
    ['Arts', 'Sciences', 'Law', 'Computer Science', 'Commerce', 'Pharmacy'],
    'None – Academic Marks Only', 'https://www.usindh.edu.pk/admissions/'],
  ['salu', 'Shah Abdul Latif University', 'SALU', 'pub_gen_40', 'sindh',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://salu.edu.pk/admissions/'],
  ['sau', 'Sindh Agriculture University', 'SAU', 'agriculture', 'sindh',
    ['Agriculture', 'Agronomy', 'Animal Sciences', 'Food Technology'],
    'None – Academic Marks Only', 'https://sau.edu.pk/admissions/'],
  ['fuuast', 'Federal Urdu University of Arts Sciences and Technology', 'FUUAST', 'pub_gen_40', 'sindh',
    ['Arts', 'Sciences', 'Computer Science', 'Business', 'Education'],
    'None – Academic Marks Only', 'https://fuuast.edu.pk/admissions/'],
  ['karachi', 'University of Karachi', 'UoK', 'pub_gen_40', 'sindh',
    ['Arts', 'Sciences', 'Law', 'Computer Science', 'Pharmacy'],
    'UoK Entry Test (CS/Pharmacy)', 'https://www.uok.edu.pk/admissions/'],
  ['agu', 'Al-Ghazali University Karachi', 'AGU', 'pub_gen_50', 'sindh',
    ['Islamic Studies', 'Education', 'Social Sciences'],
    'None – Academic Marks Only', 'https://agu.edu.pk/'],
  ['bbsul', 'Benazir Bhutto Shaheed University Lyari', 'BBSUL', 'pub_gen_50', 'sindh',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://bbsul.edu.pk/'],
  ['bbsutsd', 'Benazir Bhutto Shaheed University of Technology and Skill Development', 'BBSUTSD', 'pub_gen_40', 'sindh',
    ['Technology', 'Computer Science', 'Engineering', 'Business'],
    'Academic Marks Only', 'https://bbsutsd.edu.pk/'],
  ['bnbwu', 'Begum Nusrat Bhutto Women University Sukkur', 'BNBWU', 'pub_gen_40', 'sindh',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://bnbwu.edu.pk/'],
  ['sbbuvas', 'Shaheed Benazir Bhutto University of Veterinary and Animal Sciences', 'SBBUVAS', 'agriculture', 'sindh',
    ['Veterinary Medicine', 'Animal Sciences'],
    'None – Academic Marks Only', 'https://sbbuvas.edu.pk/'],
  ['sbbusba', 'Shaheed Benazir Bhutto University Shaheed Benazirabad', 'SBBU-SBA', 'pub_gen_40', 'sindh',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://sbbusba.edu.pk/'],
  ['smiu', 'Sindh Madresatul Islam University', 'SMIU', 'pub_gen_40', 'sindh',
    ['Sciences', 'Computer Science', 'Business', 'Education'],
    'SMIU Entry Test / Academic Marks', 'https://www.smiu.edu.pk/admissions/'],
  ['maliruniversity', 'Malir University of Science and Technology', 'MUST-Malir', 'priv_eng_et', 'sindh',
    ['Computer Science', 'Engineering', 'Business'],
    'University Test / NAT', 'https://malircollege.com/'],
  ['shu', 'Salim Habib University', 'SHU', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'SHU Entry Test', 'https://shu.edu.pk/admissions/'],
  ['ilma', 'ILMA University', 'ILMA', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'ILMA Test / NAT', 'https://ilmauniversity.edu.pk/admissions/'],
  ['kiet', 'Karachi Institute of Economics and Technology', 'KIET', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'KIET Test', 'https://kiet.edu.pk/admissions/'],
  ['kasbit', 'KASB Institute of Technology', 'KASBIT', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'KASBIT Test / NAT', 'https://kasbit.edu.pk/admissions/'],
  ['ksbl', 'Karachi School for Business and Leadership', 'KSBL', 'priv_biz', 'sindh',
    ['BBA', 'MBA', 'Executive Programs'],
    'KSBL Aptitude Test + Interview', 'https://www.ksbl.edu.pk/admissions/'],
  ['kite', 'Karachi Institute of Technology and Entrepreneurship', 'KITE', 'priv_eng_et', 'sindh',
    ['Computer Science', 'Engineering', 'Business'],
    'University Test / NAT', 'https://kite.edu.pk/admissions/'],
  ['cibes', 'Commecs Institute of Business and Emerging Sciences', 'CIBES', 'priv_biz', 'sindh',
    ['Business', 'Computer Science'],
    'CIBES Test', 'https://cibes.edu.pk/'],
  ['dadabhoy', 'Dadabhoy Institute of Higher Education', 'DIHE', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'University Test / NAT', 'https://dadabhoy.edu.pk/'],
  ['emaan', 'Emaan Institute of Management and Sciences', 'EIMAS', 'priv_biz', 'sindh',
    ['Business', 'Computer Science'],
    'University Test', 'https://www.emaan.edu.pk/'],
  ['nhu', 'Nazeer Hussain University', 'NHU', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Social Sciences'],
    'NHU Test', 'https://nhu.edu.pk/'],
  ['newports', 'Newports Institute of Communications and Economics', 'NICE', 'priv_biz', 'sindh',
    ['Business', 'Media', 'Computer Science'],
    'Newports Test', 'https://newports.edu.pk/'],
  ['juw', 'Jinnah University for Women', 'JUW', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Sciences', 'Arts'],
    'JUW Admission Test', 'https://juw.edu.pk/admissions/'],
  ['ibitpu', 'Institute of Business & Technology', 'IBIT', 'priv_biz', 'sindh',
    ['Business', 'Computer Science'],
    'IBIT Test / NAT', 'https://ibitpk.net/'],
  ['indus', 'INDUS University', 'INDUS', 'priv_eng_et', 'sindh',
    ['Engineering', 'Computer Science', 'Business', 'Design'],
    'Indus Entry Test / NAT', 'https://www.indus.edu.pk/admissions/'],
  ['uac', 'University of Art and Culture Jamshoro', 'UAC', 'priv_arts', 'sindh',
    ['Fine Arts', 'Design', 'Architecture', 'Cultural Heritage'],
    'Portfolio + Interview', 'https://uac.edu.pk/'],
  ['tip', 'Textile Institute of Pakistan', 'TIP', 'priv_eng_et', 'sindh',
    ['Textile Engineering', 'Textile Design', 'Business'],
    'TIP Entry Test', 'https://tip.edu.pk/admissions/'],
  ['hands-ids', 'Hands Institute of Development Studies', 'HANDS', 'priv_biz', 'sindh',
    ['Development Studies', 'Social Sciences', 'Business'],
    'None – Academic Marks', 'https://hands.org.pk/'],
  ['muk', 'Metropolitan University Karachi', 'MUK', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Social Sciences'],
    'University Test / NAT', 'https://muk.edu.pk/'],
  ['mite', 'Millennium Institute of Technology and Entrepreneurship', 'MITE', 'priv_eng_et', 'sindh',
    ['Computer Science', 'Engineering', 'Business'],
    'University Test', 'https://mite.edu.pk/'],
  ['sabsu', 'Shaheed Allah Buksh Soomro University of Arts, Design and Heritages', 'SABSU', 'priv_arts', 'sindh',
    ['Fine Arts', 'Design', 'Heritage Studies'],
    'Portfolio + Interview', 'https://sabsu.edu.pk/'],
  ['sbbcu', 'Shaheed Benazir Bhutto City University Karachi', 'SBBC-U', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Education'],
    'University Test', 'https://sbbc-u.edu.pk/'],
  ['sbbdewanuniversity', 'Shaheed Benazir Bhutto Dewan University', 'SBBDU', 'priv_biz', 'sindh',
    ['Business', 'Computer Science'],
    'University Test', 'https://sbbdu.edu.pk/'],
  ['alkawthar', 'Al-Kawthar University Karachi', 'AKU-K', 'priv_biz', 'sindh',
    ['Islamic Studies', 'Computer Science', 'Business'],
    'None – Academic Marks', 'https://alkawthar.edu.pk/'],
  ['simat', 'Sindh Institute of Management and Technology', 'SIMAT', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Supply Chain'],
    'SIMAT Test', 'https://simat.edu.pk/'],
  ['ums', 'The University of Modern Sciences', 'UMS', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Social Sciences'],
    'University Test / NAT', 'https://ums.edu.pk/'],
  ['uit', 'UIT University Karachi', 'UIT', 'priv_eng_et', 'sindh',
    ['Computer Science', 'Engineering', 'Business'],
    'UIT Entry Test / NAT', 'https://uit.edu.pk/admissions/'],
  ['usms', 'University of Sufism and Modern Sciences', 'USMS', 'priv_biz', 'sindh',
    ['Islamic Studies', 'Sufism', 'Social Sciences'],
    'Academic Marks Only', 'https://usms.edu.pk/'],
  ['szabul', 'Shaheed Zulfiqar Ali Bhutto University of Law', 'SZABUL', 'pub_gen_40', 'sindh',
    ['LLB', 'Law'],
    'LAT (Law Admission Test)', 'https://szabul.edu.pk/'],
  ['sohail', 'Sohail University', 'SOHAIL', 'priv_biz', 'sindh',
    ['Business', 'Computer Science', 'Engineering'],
    'Sohail Entry Test / NAT', 'https://sohail.edu.pk/admissions/'],
  ['gcuh', 'Government College University Hyderabad', 'GCUH', 'pub_gen_40', 'sindh',
    ['Sciences', 'Arts', 'Computer Science', 'Commerce'],
    'None – Academic Marks Only', 'https://gcuh.edu.pk/admissions/'],
  ['aroruniversity', 'Aror University of Art, Architecture, Design and Heritages', 'AROR', 'priv_arts', 'sindh',
    ['Architecture', 'Art', 'Design', 'Urban Planning'],
    'Portfolio + Aptitude Test', 'https://aroruniversity.edu.pk/'],
  ['isu', 'Ibn-e-Sina University', 'ISU', 'priv_med', 'sindh',
    ['Pharmacy', 'Medical Lab Technology', 'Nursing'],
    'MDCAT / University Test', 'https://isu.edu.pk/'],

  // ── BALOCHISTAN ───────────────────────────────────────────────────────────
  ['uob', 'University of Balochistan', 'UoB', 'pub_gen_40', 'balochistan',
    ['Arts', 'Sciences', 'Computer Science', 'Commerce'],
    'None – Academic Marks Only', 'https://www.uob.edu.pk/admissions/'],
  ['buitms', 'BUITEMS Quetta', 'BUITEMS', 'pub_eng_no_et', 'balochistan',
    ['Engineering', 'Computer Science', 'IT', 'Business'],
    'BUITEMS Entry Test (optional) / Academic Marks', 'https://www.buitms.edu.pk/admissions/'],
  ['buetk', 'Balochistan University of Engineering and Technology Khuzdar', 'BUETK', 'pub_eng_no_et', 'balochistan',
    ['Engineering', 'Computer Science'],
    'Academic Marks (Pre-Engineering)', 'https://buetk.edu.pk/'],
  ['bumhs', 'Bolan University of Medical and Health Sciences', 'BUMHS', 'pub_med', 'balochistan',
    ['MBBS', 'BDS', 'Pharm-D', 'Nursing'],
    'MDCAT (Balochistan)', 'https://bumhs.edu.pk/admissions/'],
  ['sbkwu', 'Sardar Bahadur Khan Women University', 'SBKWU', 'pub_gen_40', 'balochistan',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://sbkwu.edu.pk/admissions/'],
  ['luawms', 'Lasbela University of Agriculture, Water and Marine Sciences', 'LUAWMS', 'agriculture', 'balochistan',
    ['Agriculture', 'Marine Sciences', 'Environmental Sciences'],
    'None – Academic Marks Only', 'https://luawms.edu.pk/admissions/'],
  ['uogwadar', 'University of Gwadar', 'UoGwadar', 'pub_gen_50', 'balochistan',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://uogwadar.edu.pk/'],
  ['uolr', 'University of Loralai', 'UoLoralai', 'pub_gen_50', 'balochistan',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uolr.edu.pk/'],
  ['uomakran', 'University of Makran', 'UoMakran', 'pub_gen_50', 'balochistan',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uomakran.edu.pk/'],
  ['uoturbat', 'University of Turbat', 'UoTurbat', 'pub_gen_50', 'balochistan',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uoturbat.edu.pk/'],
  ['aiu', 'Al-Hamd Islamic University', 'AIU', 'priv_biz', 'balochistan',
    ['Islamic Studies', 'Education'],
    'None – Academic Marks Only', 'https://aiub.edu.pk/'],

  // ── AJK ───────────────────────────────────────────────────────────────────
  ['uajk', 'University of Azad Jammu and Kashmir', 'UoAJK', 'pub_gen_40', 'azad_kashmir',
    ['Sciences', 'Arts', 'Computer Science', 'Engineering', 'Business'],
    'None – Academic Marks Only', 'https://www.ajku.edu.pk/'],
  ['must', 'Mirpur University of Science and Technology', 'MUST', 'pub_eng_et', 'azad_kashmir',
    ['Engineering', 'Computer Science', 'Business'],
    'MUST Entry Test / NAT-IE', 'https://must.edu.pk/admission/'],
  ['alkhair', 'Al-Khair University', 'ALKHAIR', 'priv_gen', 'azad_kashmir',
    ['Islamic Studies', 'Computer Science', 'Business', 'Education'],
    'None – Academic Marks Only', 'https://alkhairuniversity.edu.pk/'],
  ['miu', 'Mohi-ud-Din Islamic University', 'MIU', 'priv_gen', 'azad_kashmir',
    ['Islamic Studies', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://miu.edu.pk/'],
  ['upr', 'University of Poonch Rawalakot', 'UPR', 'pub_gen_40', 'azad_kashmir',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://upr.edu.pk/'],
  ['uokajk', 'University of Kotli AJK', 'UoKotli', 'pub_gen_40', 'azad_kashmir',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uokajk.edu.pk/'],
  ['wuajk', 'Women University AJK Bagh', 'WUAJK', 'pub_gen_40', 'azad_kashmir',
    ['Sciences', 'Arts', 'Computer Science', 'Business'],
    'None – Academic Marks Only', 'https://wuajk.edu.pk/'],

  // ── GILGIT-BALTISTAN ──────────────────────────────────────────────────────
  ['kiu', 'Karakoram International University', 'KIU', 'pub_gen_40', 'gilgit_baltistan',
    ['Sciences', 'Arts', 'Computer Science', 'Education', 'Business'],
    'None – Academic Marks Only', 'https://kiu.edu.pk/admissions/'],
  ['uobs', 'University of Baltistan Skardu', 'UoBaltistan', 'pub_gen_50', 'gilgit_baltistan',
    ['Sciences', 'Arts', 'Computer Science'],
    'None – Academic Marks Only', 'https://uobs.edu.pk/'],

  // ── MISC / MULTI-CAMPUS ───────────────────────────────────────────────────
  ['abasyn', 'Abasyn University', 'ABASYN', 'priv_biz', 'kpk',
    ['Computer Science', 'Business', 'Engineering', 'Social Sciences'],
    'Abasyn Test / NAT', 'https://www.abasyn.edu.pk/admissions/'],
  ['bahria', 'Bahria University', 'BAHRIA', 'priv_eng_et', 'islamabad',
    ['Engineering', 'Computer Science', 'Business', 'Psychology', 'Media'],
    'Bahria Entry Test / NAT', 'https://www.bahria.edu.pk/admissions/'],
  ['au', 'Air University', 'AU', 'priv_eng_et', 'islamabad',
    ['Engineering', 'Computer Science', 'Avionics', 'Mechatronics', 'Business'],
    'Air University Test', 'https://www.au.edu.pk/admissions/'],
  ['ist', 'Institute of Space Technology', 'IST', 'priv_eng_et', 'islamabad',
    ['Aerospace Engineering', 'Electrical Engineering', 'CS', 'Remote Sensing'],
    'IST Test + Interview', 'https://www.ist.edu.pk/admissions'],
  ['pieas', 'PIEAS', 'PIEAS', 'pub_eng_et', 'islamabad',
    ['Nuclear Engineering', 'Electrical Engineering', 'Computer Science', 'Mechanical Engineering'],
    'PIEAS Written Test + Interview', 'https://www.pieas.edu.pk/admissions/'],
  ['nust', 'National University of Sciences and Technology', 'NUST', 'pub_eng_et', 'islamabad',
    ['Engineering', 'Computer Science', 'Business', 'Sciences', 'Architecture'],
    'NET (NUST Entry Test)', 'https://nust.edu.pk/admissions/'],
  ['fast', 'FAST National University', 'FAST', 'priv_eng_et', 'multi',
    ['Computer Science', 'Engineering', 'Artificial Intelligence', 'Data Science'],
    'FAST NU Test', 'https://www.nu.edu.pk/Admissions'],
  ['comsats', 'COMSATS University Islamabad', 'COMSATS', 'pub_eng_et', 'islamabad',
    ['Computer Science', 'Engineering', 'Biosciences', 'Business'],
    'NTS NAT-IE/IM', 'https://www.comsats.edu.pk/Admissions.aspx'],
];

// ─────────────────────────────────────────────────────────────────────────────
// Generate formula objects
// ─────────────────────────────────────────────────────────────────────────────
const generatedFormulas = ALL_UNIVERSITIES.map(([id, name, shortName, template, province, fields, testName, link]) => {
  const t = FORMULA_TEMPLATES[template] || FORMULA_TEMPLATES.pub_gen_50;
  return {
    id: `${id}-${template}`,
    name: `${name} Admission Formula`,
    university: name,
    description: `Official merit formula for ${name} (${province.toUpperCase()}) undergraduate programs`,
    matric_weightage: t.matric_weightage,
    inter_weightage: t.inter_weightage,
    entry_test_weightage: t.entry_test_weightage,
    hafiz_bonus: t.hafiz_bonus,
    applicable_fields: fields,
    entry_test_name: testName,
    formula_expression: t.formula_expression,
    official_link: link,
  };
});

// Remove duplicates by id
const seen = new Set();
const uniqueFormulas = generatedFormulas.filter(f => {
  if (seen.has(f.id)) return false;
  seen.add(f.id);
  return true;
});

// Output as TypeScript snippet to append
const tsSnippet = uniqueFormulas.map(f => `  {
    id: '${f.id}',
    name: '${f.name.replace(/'/g, "\\'")}',
    university: '${f.university.replace(/'/g, "\\'")}',
    description: '${f.description.replace(/'/g, "\\'")}',
    matric_weightage: ${f.matric_weightage},
    inter_weightage: ${f.inter_weightage},
    entry_test_weightage: ${f.entry_test_weightage},
    hafiz_bonus: ${f.hafiz_bonus},
    applicable_fields: [${f.applicable_fields.map(x => `'${x}'`).join(', ')}],
    entry_test_name: '${f.entry_test_name.replace(/'/g, "\\'")}',
    formula_expression: '${f.formula_expression.replace(/'/g, "\\'")}',
    official_link: '${f.official_link}',
  }`).join(',\n');

// Write to a temp file for inspection
const outPath = path.join(__dirname, '../src/data/_generated_formulas.ts');
fs.writeFileSync(outPath, `// AUTO-GENERATED - ${uniqueFormulas.length} university formulas\n// Append these to MERIT_FORMULAS array in meritFormulas.ts\nexport const GENERATED_FORMULAS = [\n${tsSnippet}\n];\n`, 'utf8');

console.log(`✅ Generated ${uniqueFormulas.length} unique merit formulas`);
console.log(`   Output: src/data/_generated_formulas.ts`);
console.log(`   Templates used:`, [...new Set(ALL_UNIVERSITIES.map(u => u[3]))].join(', '));
